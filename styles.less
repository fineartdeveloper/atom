@import "packages/one-dark-ui/styles/ui-variables-custom.less";
@import "packages/one-dark-ui/styles/ui-variables.less";
@import "packages/one-dark-syntax/styles/syntax-variables.less";
@import "_variables.less";


@font-face {
  font-family: "Material Design Icons";
  font-style: normal !important;
  font-weight: normal !important;
  src: url("/Volumes/Storage/Projects/atom/fonts/materialdesignicons-webfont.ttf");
}

@font-face {
  font-display: fallback;
  font-family: "Merriweather";
  font-style: normal;
  font-weight: 300;
  src: url("fonts/Merriweather normal 300.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Merriweather";
  font-style: italic;
  font-weight: 300;
  src: url("fonts/Merriweather italic 300.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Merriweather";
  font-style: normal;
  font-weight: 700;
  src: url("fonts/Merriweather normal 700.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Merriweather";
  font-style: italic;
  font-weight: 700;
  src: url("fonts/Merriweather italic 700.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Proxima Nova";
  font-style: normal;
  font-weight: 100;
  src: url("fonts/Proxima Nova normal 100.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Proxima Nova";
  font-style: normal;
  font-weight: 300;
  src: url("fonts/Proxima Nova normal 300.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Proxima Nova";
  font-style: normal;
  font-weight: 400;
  src: url("fonts/Proxima Nova normal 400.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Proxima Nova";
  font-style: normal;
  font-weight: 600;
  src: url("fonts/Proxima Nova normal 600.otf") format("opentype")
}

@font-face {
  font-display: fallback;
  font-family: "Proxima Nova";
  font-style: normal;
  font-weight: 700;
  src: url("fonts/Proxima Nova normal 700.otf") format("opentype")
}

@fg-color: @text-color !important;
@fg-subtle: @text-color-subtle !important;
@fg-highlight: @text-color-highlight !important;
@fg-selected: @text-color-selected !important;
@fg-info: @text-color-info !important;
@fg-success: @text-color-success !important;
@fg-warning: shade(@text-color-warning, -60) !important;
@fg-error: shade(@text-color-error, 10) !important;

@bg-highlight: @background-color-highlight !important;
@bg-selected: @background-color-selected !important;
@bg-info: @background-color-info !important;
@bg-success: @background-color-success !important;
@bg-warning: shade(@background-color-warning, -60) !important;
@bg-error: shade(@background-color-error, -10) !important;

.fg-color,
.fg-hover-color:hover {
  color: @fg-color !important;
}
.fg-subtle,
.fg-hover-subtle:hover {
  color: @fg-subtle !important;
}
.fg-highlight,
.fg-hover-highlight:hover {
  color: @fg-highlight !important;
}
.fg-selected,
.fg-hover-selected:hover {
  color: @fg-selected !important;
}
.fg-info,
.fg-hover-info:hover {
  color: @fg-info !important;
}
.fg-success,
.fg-hover-success:hover {
  color: @fg-success !important;
}
.fg-warning,
.fg-hover-warning:hover {
  color: @fg-warning !important;
}
.fg-error,
.fg-hover-error:hover {
  color: @fg-error !important;
}
.bg-highlight,
.bg-hover-highlight:hover {
  background: @bg-highlight !important;
  background-color: @bg-highlight !important;
}
.bg-selected,
.bg-hover-selected:hover {
  background: @bg-selected !important;
  background-color: @bg-selected !important;
}
.bg-info,
.bg-hover-info:hover {
  background: @bg-info !important;
  background-color: @bg-info !important;
}
.bg-success,
.bg-hover-success:hover {
  background: @bg-success !important;
  background-color: @bg-success !important;
}
.bg-warning,
.bg-hover-warning:hover {
  background: @bg-warning !important;
  background-color: @bg-warning !important;
}
.bg-error,
.bg-hover-error:hover {
  background: @bg-error !important;
  background-color: @bg-error !important;
}

.editor-font-settings {
  font-kerning: none !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  -moz-font-smoothing: grayscale !important;
  letter-spacing: 0 !important;
  text-rendering: optimizeLegibility !important;
}

.font-icon {
  &:extend(.editor-font-settings);

  vertical-align: middle !important;
  display: inline-block !important;
  font-style: normal !important;
  min-width: 30px !important;
  width: auto !important;
  font-family: "MaterialDesignIcons", "master-icons", "Font Awesome 5 Free", "Font Awesome 5 Brands", "FontAwesome5Free-Solid", "FontAwesome5Free-Regular", "FontAwesome5Brands-Regular", "system-ui";
}

.reset-margin {
  margin-top: 0 !important;
  margin-right: 0 !important;
  margin-bottom: 0 !important;
  margin-left: 0 !important;
}

.reset-padding {
  padding-top: 0 !important;
  padding-right: 0 !important;
  padding-bottom: 0 !important;
  padding-left: 0 !important;
}

.mdi {
  &:extend(.editor-font-settings);
  &:extend(.reset-margin);
  &:extend(.reset-padding);
  font-size: calc(@ui-size * 1.2) !important;
  font-weight: normal !important;
  vertical-align: middle !important;

  &.btn:hover {
    color: #fff;
    background: @syntax-accent;
  }

  * {
    &:extend(.editor-font-settings);
    &:extend(.reset-margin);
    &:extend(.reset-padding);
    font-size: calc(@ui-size * 1.2) !important;
    font-weight: normal !important;
    vertical-align: middle !important;
  }

  i {
    &:extend(.font-icon);
    &:extend(.reset-margin);
    &:extend(.reset-padding);
    text-align: center !important;
    font-size: calc(@ui-size * 1.75) !important;
    font-weight: normal !important;
    vertical-align: middle !important;
  }
}


atom-text-editor {
    &:extend(.editor-font-settings);

    * {
        &:extend(.editor-font-settings);
    }
}

atom-text-editor {
    .selection .region {
        background-color: fade(cyan, 20);
    }

    .syntax--comment {
        font-style: normal !important;
    }

    .syntax--hyperlink {
        text-decoration: none !important;
    }

    .cursor {
        border-color: lime !important;
        border-width: 2px !important;
    }

    .cursors {
        opacity: 1 !important;

        &.blink-off {
            opacity: 0 !important;
        }
    }

    .bracket-matcher {
        .region {
            opacity: 1 !important;
            border-bottom-color: lime !important;
            border-bottom-style: solid !important;
        }
    }

    .wrap-guide {
      width: 1px !important;
      background-color: fade(@mono-3, 10) !important;
      border-right: solid 1px fade(@mono-3, 20) !important;
    }
}


atom-text-editor:not([mini]) {
  .syntax--comment {
    font-style: normal !important;
  }
}

[theme-one-dark-ui-sticky-headers="sticky"] {
  .tree-view .entry.file.selected {
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
  }
}


.tool-bar {
  &:extend(.reset-margin);
  &:extend(.reset-padding);
  vertical-align: middle !important;

  .tool-bar-spacer {
    &:extend(.reset-margin);
    &:extend(.reset-padding);
    max-width: 1px !important;
    overflow: hidden !important;
    min-width: 1px !important;
    width: 1px !important;
    height: auto !important;
    line-height: auto !important;
    background-color: @ui-border !important;
    -webkit-mask-image: none !important;
    vertical-align: middle !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .btn {
    &:extend(.reset-margin);
    &:extend(.reset-padding);
    // border-color: transparent !important;
    margin: 0 !important;
    text-align: center !important;
    vertical-align: middle !important;

    &:hover {
      color: #fff;
      // border-color: transparent;
      // background: @syntax-accent;
      border-radius: 0 !important;
      vertical-align: middle !important;
    }
  }

  .tool-bar-btn,
  button.tool-bar-btn {
    &:extend(.reset-margin);
    &:extend(.reset-padding);
    // background-color: @tool-bar-bg !important;
    border-width: 0 !important;
    border-radius: 0 !important;
    text-align: center !important;
    vertical-align: middle !important;
    width: auto !important;
    min-width: 40px !important;
    padding-left: 10px !important;
    padding-right: 10px !important;

    &:hover {
      // color: @hue-6-2;
      // background-color: transparent !important;
    }
  }
}


.status-bar,
.status-bar.status-bar {
  color: @status-bar-fg-color;
  background: @syntax-accent;
  font-size: @status-bar-font-size;
  height: @status-bar-height;

  &, & * {
    line-height: @status-bar-height;
  }

  .inline-block, a {
    color: fade(@status-bar-fg-color, 70);

    &:hover {
      cursor: pointer !important;
      color: tint(shade(@text-color-warning, -20), -100);
      background-color: transparent;
    }
  }

  .icon::before {
    font-size: 16px;
  }

  .inline-block {
      &.github-StatusBarTile,
      &.line-ending-tile {
          display: none;
      }
  }
}


.markdown-preview {
  &.markdown-preview {
    atom-text-editor {
      color: @mono-1;
      background-color: @syntax-bg;
      padding: 30px 30px;
    }

    hr {
      height: 1px;
      margin-top: 30px;
      margin-bottom: 30px;
    }
  }

  &.markdown-preview[data-use-github-style] {
    color: #666;

    h1, h2, h3, h4, h5, h6 {
      color: #000;
    }

    code {
      margin-right: 3px !important;
      padding-top: 5px !important;
      padding-right: 3px !important;
      padding-bottom: 5px !important;
      padding-left: 5px !important;
      background: fade(@mono-1, 30);
      // x, y, blur, grow, color
      box-shadow: 1px 1px 4px 1px fade(@mono-1, 60);
      font-style: normal !important;
    }
  }
}


atom-panel-container {
  &.header {
    .title-bar {
      position: relative !important;
      top: auto !important;
      right: auto !important;
      bottom: auto !important;
      left: auto !important;
      border: none !important;
      margin: none !important;
      padding-top: 10px !important;
      padding-bottom: 5px !important;
      height: auto !important;
      max-height: auto !important;
      min-height: auto !important;
      line-height: 100% !important;
      outline: none !important;
      box-shadow: none !important;
      border-radius: 0 !important;
      font-size: 12px !important;
      font-weight: 600 !important;
      font-kerning: none !important;
      -webkit-font-smoothing: antialiased !important;
      -moz-osx-font-smoothing: antialiased !important;
      -moz-font-smoothing: antialiased !important;
      letter-spacing: 0 !important;
      color: fade(@ui-bg, 72) !important;
      background: @mono-1 !important;
      box-shadow: 0px 0px 30px 5px fade(tint(@fg-subtle, -50), 50) !important;
      z-index: 3 !important;

      // &:hover {
      //   color: fade(@ui-bg, 72) !important;
      //   background: darken(@mono-1, 5) !important;
      // }
    }
  }
}
